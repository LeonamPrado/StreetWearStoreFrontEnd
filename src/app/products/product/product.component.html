<div *ngIf="isLoading" style="text-align: center; min-height: 75vh">
  <app-loading-spinner></app-loading-spinner>
</div>
<div *ngIf="product && !isLoading" class="container-xl">
  <app-nav-bar></app-nav-bar>
  <div class="row mt-3">
    <app-alert
      [message]="'Select the size'"
      *ngIf="sizeAlert"
      (close)="closeAlert()"
    ></app-alert>
    <div
      id="carouselExample"
      class="carousel slide col-5 pt-5"
      data-bs-theme="dark"
    >
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img
            [src]="'http://localhost:8080/' + product.urlDetail"
            class="d-block w-100"
            alt="..."
          />
        </div>
        <div class="carousel-item">
          <img
            [src]="'http://localhost:8080/' + product.urlDetail1"
            class="d-block w-100"
            alt="..."
          />
        </div>
      </div>
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#carouselExample"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#carouselExample"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    <div
      class="col-5 pt-5 text-center mx-auto"
      *ngIf="product.type === 'SNEAKERS'"
    >
      <br /><br />
      <div>
        <p class="h3">{{ product.name }}</p>
      </div>
      <hr />
      <div></div>
      <div class="flex pt-2">
        <p class="priceFont my-auto">R${{ product.price }}</p>
      </div>
      <p class="m-0 subPrice" style="color: rgb(116, 116, 116)">
        10 x R$ {{ product.price / 10 }}
      </p>
      <br />
      <div class="sizeImg d-flex justify-content-center align-items-center">
        <img src="assets/common/size.png" class="img-fluid" alt="" />
        <p>SIZES</p>
      </div>
      <div class="button-grid">
        <div *ngFor="let size of sizesShoes" class="button-container">
          <button
            class="sizeBtn"
            [value]="size"
            [ngClass]="{
              selected: selectedSize === size,
              unavailable: isUnavailable(size)
            }"
            (click)="selectSize(size)"
            [disabled]="isUnavailable(size)"
          >
            {{ size }}
          </button>
        </div>
      </div>
      <div class="mt-3 pt-3 d-flex justify-content-center align-items-center">
        <button
          class="btn btn-lg buyBtn d-flex justify-content-center align-items-center"
          type="button"
          (click)="onBuy()"
          [disabled]="selectedSize === ''"
        >
          Buy Now
          <img src="assets/common/arrowIcon.png" class="img-fluid" alt="" />
        </button>
      </div>
    </div>
    <div
      class="col-5 pt-5 text-center mx-auto"
      *ngIf="product.type === 'TSHIRT'"
    >
      <br /><br />
      <div>
        <p class="h3">{{ product.name }}</p>
      </div>
      <hr />
      <div></div>
      <div class="flex pt-2">
        <p class="priceFont my-auto">R${{ product.price }}</p>
      </div>
      <p class="m-0" style="color: rgb(116, 116, 116)">
        10 x R$ {{ product.price / 10 }}
      </p>
      <br />
      <div class="sizeImg d-flex justify-content-center align-items-center">
        <img src="assets/common/size.png" class="img-fluid" alt="" />
        <p>SIZES</p>
      </div>
      <div class="button-grid">
        <div *ngFor="let size of sizesTshirts" class="button-container">
          <button
            class="sizeBtn"
            [value]="size"
            [ngClass]="{
              selected: selectedSize === size,
              unavailable: isUnavailable(size)
            }"
            (click)="selectSize(size)"
            [disabled]="isUnavailable(size)"
          >
            {{ size }}
          </button>
        </div>
      </div>
      <div class="mt-3 pt-3 d-flex justify-content-center align-items-center">
        <button
          class="btn btn-lg buyBtn d-flex justify-content-center align-items-center"
          type="button"
          (click)="onBuy()"
          [disabled]="selectedSize === ''"
        >
          Buy Now
          <img src="assets/common/arrowIcon.png" class="img-fluid" alt="" />
        </button>
      </div>
    </div>
  </div>
</div>
<div *ngIf="!product" style="text-align: center">
  <h1>Nenhum produto encontrado</h1>
</div>
